<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enroll Services - Agri-Culture</title>
    <link rel="stylesheet" href="style.css">
    <script src="env.js"></script>
    <style>
        .enroll-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .enroll-header {
            text-align: center;
            margin-bottom: 40px;
            color: var(--primary);
        }
        
        .enroll-header h1 {
            font-size: clamp(1.6rem, 5vw, 2.5rem);
            margin-bottom: 10px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .enroll-header p {
            font-size: clamp(0.9rem, 3.5vw, 1.1rem);
            color: var(--text-light);
        }
        
        .service-type-selector {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }
        
        .service-type-btn {
            padding: 15px 30px;
            font-size: 1.1rem;
            border: 2px solid var(--primary);
            background: white;
            color: var(--primary);
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 150px;
        }
        
        .service-type-btn:hover,
        .service-type-btn.active {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(46, 125, 50, 0.3);
        }
        
        .form-container {
            background: white;
            border-radius: 15px;
            padding: clamp(16px, 4vw, 30px);
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            display: none;
        }
        
        .form-container.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .form-section {
            margin-bottom: 25px;
        }
        
        .form-section h3 {
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 1.3rem;
            border-bottom: 2px solid var(--secondary);
            padding-bottom: 8px;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text);
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }
        
        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(46, 125, 50, 0.1);
        }
        
        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .checkbox-group input[type="checkbox"] {
            width: auto;
            margin: 0;
        }
        
        .submit-btn {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 25px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            margin: 30px auto 0;
        }
        
        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(46, 125, 50, 0.3);
        }
        
        .other-service-input {
            margin-top: 10px;
            display: none;
        }
        
        .other-service-input.show {
            display: block;
        }
        
        .product-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .category-card {
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .category-card:hover {
            border-color: var(--primary);
            background: rgba(46, 125, 50, 0.05);
        }
        
        .category-card.selected {
            border-color: var(--primary);
            background: rgba(46, 125, 50, 0.1);
        }
        
        .category-card h4 {
            color: var(--primary);
            margin-bottom: 5px;
        }
        
        .category-card p {
            font-size: 0.9rem;
            color: var(--text-light);
        }
        
        /* Tooltip styles */
        .form-group label[title] {
            position: relative;
            cursor: help;
        }
        
        .form-group label[title]:hover::after {
            content: attr(title);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.9rem;
            white-space: nowrap;
            z-index: 1000;
            margin-bottom: 5px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }
        
        .form-group label[title]:hover::before {
            content: '';
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 5px solid transparent;
            border-top-color: rgba(0, 0, 0, 0.9);
            margin-bottom: -5px;
            z-index: 1000;
        }
        
        /* Image upload styles */
        .image-upload-container {
            margin-top: 15px;
        }
        
        .image-upload-area {
            border: 2px dashed var(--primary);
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(46, 125, 50, 0.05);
            position: relative;
        }
        
        .image-upload-area:hover {
            border-color: var(--secondary);
            background: rgba(46, 125, 50, 0.1);
        }
        
        .upload-icon {
            font-size: 3rem;
            margin-bottom: 10px;
            color: var(--primary);
        }
        
        .image-upload-area p {
            margin: 5px 0;
            color: var(--text);
        }
        
        .upload-hint {
            font-size: 0.9rem;
            color: var(--text-light);
        }
        
        .file-input {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }
        
        .image-preview-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .image-preview {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .image-preview img {
            width: 100%;
            height: 120px;
            object-fit: cover;
            display: block;
        }
        
        .remove-image {
            position: absolute;
            top: 5px;
            right: 5px;
            background: rgba(255, 0, 0, 0.8);
            color: white;
            border: none;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            cursor: pointer;
            font-size: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .remove-image:hover {
            background: rgba(255, 0, 0, 1);
        }
        
        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .service-type-selector {
                flex-direction: column;
                align-items: center;
            }
            
            .enroll-container {
                padding: 12px;
            }
            .service-type-btn { width: 100%; max-width: 360px; }
            .form-section h3 { font-size: 1.1rem; }
            .form-group input, .form-group select, .form-group textarea { font-size: 1rem; }
            .submit-btn { width: 100%; max-width: 360px; }
        }
    </style>
</head>
<body>
    <div class="enroll-container">
        <div class="enroll-header">
            <h1 data-i18n="enrollServices">Enroll Your Services</h1>
            <p data-i18n="enrollSubtitle">Choose your service type and fill out the form to get started</p>
        </div>
        
                              <div class="service-type-selector">
                          <button class="service-type-btn" data-type="bidding" data-i18n="bidding">Bidding</button>
                          <button class="service-type-btn" data-type="selling" data-i18n="selling">Selling</button>
                          <button class="service-type-btn" data-type="renting" data-i18n="renting">Renting</button>
                      </div>
        
                              <!-- Bidding Form -->
                      <div id="biddingForm" class="form-container">
            <form id="biddingFormElement">
                <div class="form-section">
                    <h3 data-i18n="serviceRequirements">कोणती सेवा देता? (What do you offer?)</h3>
                    <div class="form-group">
                        <label data-i18n="whatServiceNeed">आपण कोणती सेवा देता? (What do you provide?)</label>
                         <div class="checkbox-group">
                             <input type="checkbox" id="building" name="services" value="building">
                            <label for="building" data-i18n="buildingFarming" title="Farming tools, machines, equipment, seeds, fertilizers, etc.">शेतातील वस्तू/उपकरणे (Farming tools/products)</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="helpers" name="services" value="helpers">
                            <label for="helpers" data-i18n="helpersLabor" title="Skilled workers, helpers, laborers for farming work">कामगार/मजूर (Labor/Workers)</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="other" name="services" value="other">
                            <label for="other" data-i18n="otherServices" title="Any other work or service you offer">इतर काम (Other work you offer)</label>
                         </div>
                         <div class="other-service-input" id="otherServiceInput">
                             <input type="text" data-i18n-placeholder="pleaseSpecify" placeholder="Describe your service" name="otherService">
                         </div>
                     </div>
                 </div>
                
                <div class="form-section">
                    <h3 data-i18n="projectDetails">कामाची माहिती (Work/Service details)</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label data-i18n="projectTitle" title="Give your work/service a name">सेवा/वस्तूचे नाव (Service/Product name)</label>
                            <input type="text" name="projectTitle" data-i18n-placeholder="enterProjectTitle" placeholder="What are you offering?" required>
                        </div>
                        <div class="form-group">
                            <label data-i18n="projectType" title="Type - sale/rent/help">प्रकार (Type - sale/rent/help)</label>
                             <select name="projectType" required>
                                 <option value="" data-i18n="selectProjectType">Select type</option>
                                 <option value="construction" data-i18n="construction">Construction</option>
                                 <option value="maintenance" data-i18n="maintenance">Maintenance</option>
                                 <option value="installation" data-i18n="installation">Installation</option>
                                 <option value="repair" data-i18n="repair">Repair</option>
                                 <option value="other" data-i18n="other">Other</option>
                             </select>
                         </div>
                     </div>
                    <div class="form-group">
                        <label data-i18n="projectDescription" title="Briefly describe what you provide">आपली सेवा/वस्तूबद्दल सांगा (Describe in short what you provide)</label>
                        <textarea name="projectDescription" data-i18n-placeholder="describeProject" placeholder="Tell us about your service/product" required></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label data-i18n="location" title="Where do you provide service?">आपण कुठे सेवा देता? (Where do you provide service?)</label>
                            <input type="text" name="location" data-i18n-placeholder="enterLocation" placeholder="Your area/village" required>
                        </div>
                        <div class="form-group">
                            <label data-i18n="budgetRange" title="Your price/charges">किंमत (Price/Charges)</label>
                             <select name="budgetRange" required>
                                 <option value="" data-i18n="selectBudgetRange">Select price range</option>
                                 <option value="0-10000">₹0 - ₹10,000</option>
                                 <option value="10000-50000">₹10,000 - ₹50,000</option>
                                 <option value="50000-100000">₹50,000 - ₹1,00,000</option>
                                 <option value="100000+">₹1,00,000+</option>
                             </select>
                         </div>
                     </div>
                 </div>
                
                <div class="form-section">
                    <h3>कधीपासून सेवा उपलब्ध? (Service availability dates)</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label title="When can you start working?">सेवा सुरु होणार दिनांक (Service start date)</label>
                            <input type="date" name="startDate" required>
                        </div>
                        <div class="form-group">
                            <label title="How long will it take?">किती दिवस/महिने लागतील? (How long will it take?)</label>
                             <select name="duration" required>
                                 <option value="">Select time frame</option>
                                 <option value="1-7days">1-7 days</option>
                                 <option value="1-2weeks">1-2 weeks</option>
                                 <option value="1month">1 month</option>
                                 <option value="2-3months">2-3 months</option>
                                 <option value="3+months">3+ months</option>
                             </select>
                         </div>
                     </div>
                    <div class="form-group">
                        <label title="Anything extra needed? (e.g., license, tools, etc.)">काही खास सूचना (Special notes/needs)</label>
                        <textarea name="specialRequirements" placeholder="Any special skills, tools, or requirements?"></textarea>
                    </div>
                </div>
                
                                <div class="form-section">
                    <h3 data-i18n="uploadPhotos">Images</h3>
                     <div class="form-group">
                         <label title="Upload photos to showcase your service/product" data-i18n="uploadPhotosHint">Upload photos (optional)</label>
                         <div class="image-upload-container">
                             <div class="image-upload-area" id="biddingImageUpload">
                                 <div class="upload-icon">📷</div>
                                 <p data-i18n="clickToUpload">Click to upload images</p>
                                 <p class="upload-hint" data-i18n="uploadLimit">You can upload up to 5 images</p>
                                 <input type="file" id="biddingImages" name="images" multiple accept="image/*" class="file-input">
                             </div>
                             <div class="image-preview-container" id="biddingImagePreview"></div>
                         </div>
                     </div>
                 </div>
                 
                 <div class="form-section">
                     <h3>Your contact details</h3>
                     <div class="form-row">
                         <div class="form-group">
                             <label>Your name</label>
                             <input type="text" name="fullName" placeholder="Enter your full name" required>
                         </div>
                         <div class="form-group">
                             <label>Mobile number</label>
                             <input type="tel" name="phone" placeholder="Enter your mobile number" required>
                         </div>
                     </div>
                     <div class="form-group">
                         <label title="Email, if you have one">Email (if any)</label>
                         <input type="email" name="email" placeholder="Enter your email address" required>
                         </div>
                 </div>
                
                <button type="submit" class="submit-btn" title="Submit your info/offer">माहिती जमा करा (Submit your info)</button>
            </form>
        </div>
        
        <!-- Selling Form -->
        <div id="sellingForm" class="form-container">
            <form id="sellingFormElement">
                <div class="form-section">
                    <h3>Product Information</h3>
                    <div class="form-group">
                        <label>Product Category</label>
                        <div class="product-categories">
                            <div class="category-card" data-category="seeds">
                                <h4>Seeds & Plants</h4>
                                <p>Grains, vegetables, fruits, flowers</p>
                            </div>
                            <div class="category-card" data-category="tools">
                                <h4>Farming Tools</h4>
                                <p>Hand tools, machinery, equipment</p>
                            </div>
                            <div class="category-card" data-category="fertilizers">
                                <h4>Fertilizers & Pesticides</h4>
                                <p>Organic, chemical, bio-fertilizers</p>
                            </div>
                            <div class="category-card" data-category="livestock">
                                <h4>Livestock & Poultry</h4>
                                <p>Cattle, poultry, fish, bees</p>
                            </div>
                            <div class="category-card" data-category="produce">
                                <h4>Fresh Produce</h4>
                                <p>Vegetables, fruits, grains</p>
                            </div>
                            <div class="category-card" data-category="other">
                                <h4>Other Products</h4>
                                <p>Custom farming products</p>
                            </div>
                        </div>
                        <input type="hidden" name="selectedCategory" id="selectedCategory" required>
                    </div>
                    <div class="form-group">
                        <label>Product Name</label>
                        <input type="text" name="productName" placeholder="Enter product name" required>
                    </div>
                    <div class="form-group">
                        <label>Product Description</label>
                        <textarea name="productDescription" placeholder="Describe your product in detail" required></textarea>
                    </div>
                </div>
                
                <div class="form-section">
                    <h3>Pricing & Quantity</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Price per Unit</label>
                            <input type="number" name="pricePerUnit" placeholder="Enter price per unit" min="0" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label>Unit Type</label>
                            <select name="unitType" required>
                                <option value="">Select unit type</option>
                                <option value="kg">Kilogram (kg)</option>
                                <option value="pieces">Pieces</option>
                                <option value="liters">Liters</option>
                                <option value="acres">Acres</option>
                                <option value="bundles">Bundles</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Available Quantity</label>
                            <input type="number" name="availableQuantity" placeholder="Enter available quantity" min="1" required>
                        </div>
                        <div class="form-group">
                            <label>Minimum Order Quantity</label>
                            <input type="number" name="minOrderQuantity" placeholder="Enter minimum order quantity" min="1">
                        </div>
                    </div>
                </div>
                
                <div class="form-section">
                    <h3>Quality & Certification</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Quality Grade</label>
                            <select name="qualityGrade" required>
                                <option value="">Select quality grade</option>
                                <option value="premium">Premium</option>
                                <option value="standard">Standard</option>
                                <option value="economy">Economy</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Organic Certified</label>
                            <select name="organicCertified">
                                <option value="">Select option</option>
                                <option value="yes">Yes</option>
                                <option value="no">No</option>
                                <option value="pending">Pending</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Additional Certifications</label>
                        <textarea name="certifications" placeholder="List any additional certifications or quality marks"></textarea>
                    </div>
                </div>
                
                <div class="form-section">
                    <h3>Location & Delivery</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Location</label>
                            <input type="text" name="location" placeholder="Enter your location" required>
                        </div>
                        <div class="form-group">
                            <label>Delivery Available</label>
                            <select name="deliveryAvailable" required>
                                <option value="">Select option</option>
                                <option value="yes">Yes</option>
                                <option value="no">No</option>
                                <option value="limited">Limited areas</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Delivery Charges</label>
                        <input type="text" name="deliveryCharges" placeholder="Enter delivery charges or 'Free' if applicable">
                    </div>
                </div>
                
                <div class="form-section">
                    <h3 data-i18n="productImages">Product Images</h3>
                    <div class="form-group">
                        <label title="Upload photos to showcase your product" data-i18n="uploadProductPhotosHint">Upload product photos (optional)</label>
                        <div class="image-upload-container">
                            <div class="image-upload-area" id="sellingImageUpload">
                                <div class="upload-icon">📷</div>
                                <p data-i18n="clickToUpload">Click to upload images</p>
                                <p class="upload-hint" data-i18n="uploadLimit">You can upload up to 5 images</p>
                                <input type="file" id="sellingImages" name="images" multiple accept="image/*" class="file-input">
                            </div>
                            <div class="image-preview-container" id="sellingImagePreview"></div>
                        </div>
                    </div>
                </div>
                
                <div class="form-section">
                    <h3>तुमचा पत्ता व संपर्क (Your contact details)</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>तुमचे नाव (Your name)</label>
                            <input type="text" name="fullName" placeholder="Enter your full name" required>
                        </div>
                        <div class="form-group">
                            <label>मोबाईल नंबर (Mobile number)</label>
                            <input type="tel" name="phone" placeholder="Enter your mobile number" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label title="Email, if you have one">ई-मेल, असल्यास (Email, if any)</label>
                        <input type="email" name="email" placeholder="Enter your email address" required>
                    </div>
                </div>
                
                <button type="submit" class="submit-btn">Submit Selling Request</button>
            </form>
        </div>
        
        <!-- Renting Form -->
        <div id="rentingForm" class="form-container">
            <form id="rentingFormElement">
                <div class="form-section">
                    <h3 title="उपकरण/सेवेची माहिती">Equipment/Service Info</h3>
                    <div class="form-group">
                        <label title="भाड्याची श्रेणी / काय भाड्याने देता?">Rental Category</label>
                        <div class="product-categories">
                            <div class="category-card" data-category="machinery">
                                <h4 title="शेती यंत्रे">Farm Machinery</h4>
                                <p title="ट्रॅक्टर, हार्वेस्टर, टिलर">Tractors, harvesters, tillers</p>
                            </div>
                            <div class="category-card" data-category="tools">
                                <h4 title="साधने आणि उपकरणे">Tools & Equipment</h4>
                                <p title="हात साधने, पॉवर साधने, सिंचन">Hand tools, power tools, irrigation</p>
                            </div>
                            <div class="category-card" data-category="vehicles">
                                <h4 title="वाहने">Vehicles</h4>
                                <p title="वाहतूक वाहने, ट्रेलर">Transport vehicles, trailers</p>
                            </div>
                            <div class="category-card" data-category="land">
                                <h4 title="जमीन आणि साठवण">Land & Storage</h4>
                                <p title="शेतजमीन, गोदाम, शेड">Farmland, warehouses, sheds</p>
                            </div>
                            <div class="category-card" data-category="labor">
                                <h4 title="कामगार सेवा">Labor Services</h4>
                                <p title="कुशल कामगार, मदतनीस">Skilled workers, helpers</p>
                            </div>
                            <div class="category-card" data-category="other">
                                <h4 title="इतर सेवा">Other Services</h4>
                                <p title="सानुकूल भाडे सेवा">Custom rental services</p>
                            </div>
                        </div>
                        <input type="hidden" name="selectedCategory" id="selectedCategoryRent" required>
                    </div>
                    <div class="form-group">
                        <label title="वस्तू/सेवा नाव">Item/Service name</label>
                        <input type="text" name="itemName" placeholder="Enter item or service name" required>
                    </div>
                    <div class="form-group">
                        <label title="थोडक्यात माहिती / Describe your item">Description</label>
                        <textarea name="description" placeholder="Describe what you're offering for rent" required></textarea>
                    </div>
                </div>
                
                <div class="form-section">
                    <h3 title="भाड्याची माहिती">Rental Details</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label title="भाडे दर / Price">Rental rate</label>
                            <input type="number" name="rentalRate" placeholder="Enter rental price" min="0" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label title="कशाप्रमाणे? प्रति तास/दिवस/महिना">Rate period</label>
                            <select name="ratePeriod" required>
                                <option value="">Select period</option>
                                <option value="hourly">Per hour</option>
                                <option value="daily">Per day</option>
                                <option value="weekly">Per week</option>
                                <option value="monthly">Per month</option>
                                <option value="seasonal">Per season</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label title="किमान भाडे कालावधी">Minimum rental period</label>
                            <input type="number" name="minRentalPeriod" placeholder="Enter minimum period" min="1" required>
                        </div>
                        <div class="form-group">
                            <label title="कमाल भाडे कालावधी">Maximum rental period</label>
                            <input type="number" name="maxRentalPeriod" placeholder="Enter maximum period" min="1">
                        </div>
                    </div>
                    <div class="form-group">
                        <label title="जामीन रक्कम">Security deposit</label>
                        <input type="number" name="securityDeposit" placeholder="Enter security deposit amount" min="0">
                    </div>
                </div>
                
                <div class="form-section">
                    <h3 title="उपलब्धता आणि अटी">Availability & Conditions</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label title="उपलब्धता">Availability status</label>
                            <select name="availabilityStatus" required>
                                <option value="">Select availability</option>
                                <option value="available">Available</option>
                                <option value="limited">Limited availability</option>
                                <option value="booked">Currently booked</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label title="स्थिती">Condition</label>
                            <select name="condition" required>
                                <option value="">Select condition</option>
                                <option value="excellent">Excellent</option>
                                <option value="good">Good</option>
                                <option value="fair">Fair</option>
                                <option value="needs_repair">Needs repair</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label title="अटी आणि नियम">Terms & conditions</label>
                        <textarea name="termsConditions" placeholder="Enter rental terms and conditions" required></textarea>
                    </div>
                </div>
                
                <div class="form-section">
                    <h3 title="स्थान आणि पिकअप">Location & Pickup</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label title="तुमचे ठिकाण / गाव">Location</label>
                            <input type="text" name="location" placeholder="Your area/village" required>
                        </div>
                        <div class="form-group">
                            <label title="पिकअप उपलब्ध आहे का?">Pickup available</label>
                            <select name="pickupAvailable" required>
                                <option value="">Select option</option>
                                <option value="yes">Yes</option>
                                <option value="no">No</option>
                                <option value="delivery">Delivery available</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label title="अतिरिक्त शुल्क (इंधन, डिलिव्हरी, इ.)">Additional charges</label>
                    <input type="text" name="additionalCharges" placeholder="Enter any additional charges (fuel, delivery, etc.)">
                    </div>
                </div>
                
                <div class="form-section">
                    <h3 data-i18n="itemImages">Item Images</h3>
                    <div class="form-group">
                        <label title="Upload photos to showcase your rental item" data-i18n="uploadItemPhotosHint">Upload item photos (optional)</label>
                        <div class="image-upload-container">
                            <div class="image-upload-area" id="rentingImageUpload">
                                <div class="upload-icon">📷</div>
                                <p data-i18n="clickToUpload">Click to upload images</p>
                                <p class="upload-hint" data-i18n="uploadLimit">You can upload up to 5 images</p>
                                <input type="file" id="rentingImages" name="images" multiple accept="image/*" class="file-input">
                            </div>
                            <div class="image-preview-container" id="rentingImagePreview"></div>
                        </div>
                    </div>
                </div>
                
                <div class="form-section">
                    <h3>Contact Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Full Name</label>
                            <input type="text" name="fullName" placeholder="Enter your full name" required>
                        </div>
                        <div class="form-group">
                            <label>Phone Number</label>
                            <input type="tel" name="phone" placeholder="Enter your phone number" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" name="email" placeholder="Enter your email address" required>
                    </div>
                </div>
                
                <button type="submit" class="submit-btn">Submit Renting Request</button>
            </form>
        </div>
    </div>

    <script>
        // Check if this page is loaded in an iframe and apply translations
        function applyTranslations() {
            const urlParams = new URLSearchParams(window.location.search);
            const lang = urlParams.get('lang') || 'en';
            
            // Simple translation function
            const translations = {
                en: {
                    enrollServices: 'Enroll Your Services',
                    enrollSubtitle: 'Choose your service type and fill out the form to get started',
                    bidding: 'Bidding',
                    selling: 'Selling',
                    renting: 'Renting',
                                         serviceRequirements: 'What do you offer?',
                     whatServiceNeed: 'Which service are you providing?',
                     buildingFarming: 'Farming tools/products',
                     helpersLabor: 'Labor/Workers',
                     otherServices: 'Other work you offer',
                     pleaseSpecify: 'Describe your service',
                     projectDetails: 'Work/Service details',
                     projectTitle: 'Service/Product name',
                     enterProjectTitle: 'What are you offering?',
                     projectType: 'Type',
                     selectProjectType: 'Select type',
                     construction: 'Construction',
                     maintenance: 'Maintenance',
                     installation: 'Installation',
                     repair: 'Repair',
                     projectDescription: 'Describe in short what you provide',
                     describeProject: 'Tell us about your service/product',
                     location: 'Where do you provide service?',
                     enterLocation: 'Your area/village',
                     budgetRange: 'Price/Charges',
                     selectBudgetRange: 'Select price range',
                     timelineRequirements: 'When can you provide service?',
                     startDate: 'Service start date',
                     expectedDuration: 'How long will it take?',
                     selectDuration: 'Select time frame',
                     specialRequirements: 'Special notes/needs',
                     specialRequirementsDesc: 'Any special skills, tools, or requirements?',
                     contactInformation: 'Your contact details',
                     phoneNumber: 'Mobile number',
                     enterPhone: 'Enter your mobile number',
                     email: 'Email (if any)',
                     enterEmail: 'Enter your email address',
                                          submitBidding: 'Submit your info',
                     uploadPhotos: 'Upload photos (optional)',
                     uploadPhotosHint: 'Upload photos to showcase your service/product',
                     clickToUpload: 'Click to upload images',
                     uploadLimit: 'You can upload up to 5 images',
                     productImages: 'Product Images',
                     uploadProductPhotos: 'Upload product photos (optional)',
                     uploadProductPhotosHint: 'Upload photos to showcase your product',
                     itemImages: 'Item Images',
                     uploadItemPhotos: 'Upload item photos (optional)',
                     uploadItemPhotosHint: 'Upload photos to showcase your rental item',
                     productInformation: 'Product Information',
                    productCategory: 'Product Category',
                    seedsPlants: 'Seeds & Plants',
                    seedsPlantsDesc: 'Grains, vegetables, fruits, flowers',
                    farmingTools: 'Farming Tools',
                    farmingToolsDesc: 'Hand tools, machinery, equipment',
                    fertilizersPesticides: 'Fertilizers & Pesticides',
                    fertilizersPesticidesDesc: 'Organic, chemical, bio-fertilizers',
                    livestockPoultry: 'Livestock & Poultry',
                    livestockPoultryDesc: 'Cattle, poultry, fish, bees',
                    freshProduce: 'Fresh Produce',
                    freshProduceDesc: 'Vegetables, fruits, grains',
                    otherProducts: 'Other Products',
                    otherProductsDesc: 'Custom farming products',
                    productName: 'Product Name',
                    enterProductName: 'Enter product name',
                    productDescription: 'Product Description',
                    describeProduct: 'Describe your product in detail',
                    pricingQuantity: 'Pricing & Quantity',
                    pricePerUnit: 'Price per Unit',
                    enterPricePerUnit: 'Enter price per unit',
                    unitType: 'Unit Type',
                    selectUnitType: 'Select unit type',
                    availableQuantity: 'Available Quantity',
                    enterAvailableQuantity: 'Enter available quantity',
                    minimumOrderQuantity: 'Minimum Order Quantity',
                    enterMinOrderQuantity: 'Enter minimum order quantity',
                    qualityCertification: 'Quality & Certification',
                    qualityGrade: 'Quality Grade',
                    selectQualityGrade: 'Select quality grade',
                    premium: 'Premium',
                    standard: 'Standard',
                    economy: 'Economy',
                    organicCertified: 'Organic Certified',
                    selectOption: 'Select option',
                    yes: 'Yes',
                    no: 'No',
                    pending: 'Pending',
                    additionalCertifications: 'Additional Certifications',
                    additionalCertificationsDesc: 'List any additional certifications or quality marks',
                    locationDelivery: 'Location & Delivery',
                    deliveryAvailable: 'Delivery Available',
                    deliveryCharges: 'Delivery Charges',
                    deliveryChargesDesc: 'Enter delivery charges or \'Free\' if applicable',
                    submitSelling: 'Submit Selling Request',
                    equipmentServiceInfo: 'Equipment/Service Information',
                    rentalCategory: 'Rental Category',
                    farmMachinery: 'Farm Machinery',
                    farmMachineryDesc: 'Tractors, harvesters, tillers',
                    toolsEquipment: 'Tools & Equipment',
                    toolsEquipmentDesc: 'Hand tools, power tools, irrigation',
                    vehicles: 'Vehicles',
                    vehiclesDesc: 'Transport vehicles, trailers',
                    landStorage: 'Land & Storage',
                    landStorageDesc: 'Farmland, warehouses, sheds',
                    laborServices: 'Labor Services',
                    laborServicesDesc: 'Skilled workers, helpers',
                    otherServicesRent: 'Other Services',
                    otherServicesRentDesc: 'Custom rental services',
                    itemServiceName: 'Item/Service Name',
                    enterItemName: 'Enter item or service name',
                    description: 'Description',
                    describeRental: 'Describe what you\'re offering for rent',
                    rentalDetails: 'Rental Details',
                    rentalRate: 'Rental Rate',
                    enterRentalRate: 'Enter rental rate',
                    ratePeriod: 'Rate Period',
                    selectRatePeriod: 'Select rate period',
                    minimumRentalPeriod: 'Minimum Rental Period',
                    enterMinRentalPeriod: 'Enter minimum rental period',
                    maximumRentalPeriod: 'Maximum Rental Period',
                    enterMaxRentalPeriod: 'Enter maximum rental period',
                    securityDeposit: 'Security Deposit',
                    enterSecurityDeposit: 'Enter security deposit amount',
                    availabilityConditions: 'Availability & Conditions',
                    availabilityStatus: 'Availability Status',
                    selectAvailability: 'Select availability',
                    excellent: 'Excellent',
                    good: 'Good',
                    fair: 'Fair',
                    needsRepair: 'Needs Repair',
                    termsConditions: 'Terms & Conditions',
                    enterTermsConditions: 'Enter rental terms and conditions',
                    locationPickup: 'Location & Pickup',
                    pickupAvailable: 'Pickup Available',
                    additionalCharges: 'Additional Charges',
                    additionalChargesDesc: 'Enter any additional charges (fuel, delivery, etc.)',
                    submitRenting: 'Submit Renting Request',
                    biddingSuccess: 'Bidding request submitted successfully!',
                    sellingSuccess: 'Selling request submitted successfully!',
                    rentingSuccess: 'Renting request submitted successfully!'
                },
                mr: {
                    enrollServices: 'तुमच्या सेवांची नोंदणी करा',
                    enrollSubtitle: 'तुमचा सेवा प्रकार निवडा आणि सुरु करण्यासाठी फॉर्म भरा',
                    bidding: 'बोली',
                    selling: 'विक्री',
                    renting: 'भाडे',
                                         serviceRequirements: 'तुम्ही काय ऑफर करता?',
                     whatServiceNeed: 'तुम्ही कोणती सेवा देत आहात?',
                     buildingFarming: 'शेती साधने/उत्पादने',
                     helpersLabor: 'कामगार/मजूर',
                     otherServices: 'तुम्ही देत असलेले इतर काम',
                     pleaseSpecify: 'तुमची सेवा वर्णन करा',
                     projectDetails: 'काम/सेवा तपशील',
                     projectTitle: 'सेवा/उत्पादन नाव',
                     enterProjectTitle: 'तुम्ही काय ऑफर करत आहात?',
                     projectType: 'प्रकार',
                     selectProjectType: 'प्रकार निवडा',
                     construction: 'बांधकाम',
                     maintenance: 'दुरुस्ती',
                     installation: 'स्थापना',
                     repair: 'दुरुस्ती',
                     projectDescription: 'थोडक्यात सांगा तुम्ही काय देत आहात',
                     describeProject: 'तुमच्या सेवा/उत्पादनाबद्दल सांगा',
                     location: 'तुम्ही कुठे सेवा देत आहात?',
                     enterLocation: 'तुमचे क्षेत्र/गाव',
                     budgetRange: 'किंमत/दर',
                     selectBudgetRange: 'किंमत श्रेणी निवडा',
                     timelineRequirements: 'तुम्ही कधी सेवा देऊ शकता?',
                     startDate: 'सेवा सुरु होणार दिनांक',
                     expectedDuration: 'किती वेळ लागेल?',
                     selectDuration: 'वेळ निवडा',
                     specialRequirements: 'विशेष नोंद/गरजा',
                     specialRequirementsDesc: 'कोणतीही विशेष कौशल्ये, साधने किंवा आवश्यकता?',
                     contactInformation: 'तुमची संपर्क माहिती',
                     phoneNumber: 'मोबाईल क्रमांक',
                     enterPhone: 'तुमचा मोबाईल क्रमांक प्रविष्ट करा',
                     email: 'ईमेल (असल्यास)',
                     enterEmail: 'तुमचा ईमेल पत्ता प्रविष्ट करा',
                                          submitBidding: 'तुमची माहिती जमा करा',
                     uploadPhotos: 'फोटो अपलोड करा (पर्यायी)',
                     uploadPhotosHint: 'तुमची सेवा/उत्पादन दाखवण्यासाठी फोटो अपलोड करा',
                     clickToUpload: 'फोटो अपलोड करण्यासाठी क्लिक करा',
                     uploadLimit: 'तुम्ही 5 फोटो अपलोड करू शकता',
                     productImages: 'उत्पादन फोटो',
                     uploadProductPhotos: 'उत्पादन फोटो अपलोड करा (पर्यायी)',
                     uploadProductPhotosHint: 'तुमचे उत्पादन दाखवण्यासाठी फोटो अपलोड करा',
                     itemImages: 'वस्तू फोटो',
                     uploadItemPhotos: 'वस्तू फोटो अपलोड करा (पर्यायी)',
                     uploadItemPhotosHint: 'तुमची भाडे वस्तू दाखवण्यासाठी फोटो अपलोड करा',
                     productInformation: 'उत्पादन माहिती',
                    productCategory: 'उत्पादन श्रेणी',
                    seedsPlants: 'बिया आणि रोपे',
                    seedsPlantsDesc: 'तृणधान्ये, भाज्या, फळे, फुले',
                    farmingTools: 'शेती साधने',
                    farmingToolsDesc: 'हात साधने, यंत्रे, उपकरणे',
                    fertilizersPesticides: 'खते आणि कीडनाशके',
                    fertilizersPesticidesDesc: 'सेंद्रिय, रासायनिक, जैव-खते',
                    livestockPoultry: 'पशुधन आणि पाळीव पक्षी',
                    livestockPoultryDesc: 'गुरे, पाळीव पक्षी, मासे, मधमाश्या',
                    freshProduce: 'ताजे उत्पादने',
                    freshProduceDesc: 'भाज्या, फळे, तृणधान्ये',
                    otherProducts: 'इतर उत्पादने',
                    otherProductsDesc: 'सानुकूल शेती उत्पादने',
                    productName: 'उत्पादन नाव',
                    enterProductName: 'उत्पादन नाव प्रविष्ट करा',
                    productDescription: 'उत्पादन वर्णन',
                    describeProduct: 'तुमचे उत्पादन तपशीलवार वर्णन करा',
                    pricingQuantity: 'किंमत आणि प्रमाण',
                    pricePerUnit: 'प्रति एकक किंमत',
                    enterPricePerUnit: 'प्रति एकक किंमत प्रविष्ट करा',
                    unitType: 'एकक प्रकार',
                    selectUnitType: 'एकक प्रकार निवडा',
                    availableQuantity: 'उपलब्ध प्रमाण',
                    enterAvailableQuantity: 'उपलब्ध प्रमाण प्रविष्ट करा',
                    minimumOrderQuantity: 'किमान ऑर्डर प्रमाण',
                    enterMinOrderQuantity: 'किमान ऑर्डर प्रमाण प्रविष्ट करा',
                    qualityCertification: 'गुणवत्ता आणि प्रमाणन',
                    qualityGrade: 'गुणवत्ता श्रेणी',
                    selectQualityGrade: 'गुणवत्ता श्रेणी निवडा',
                    premium: 'प्रीमियम',
                    standard: 'मानक',
                    economy: 'अर्थव्यवस्था',
                    organicCertified: 'सेंद्रिय प्रमाणित',
                    selectOption: 'पर्याय निवडा',
                    yes: 'होय',
                    no: 'नाही',
                    pending: 'प्रलंबित',
                    additionalCertifications: 'अतिरिक्त प्रमाणपत्रे',
                    additionalCertificationsDesc: 'कोणतीही अतिरिक्त प्रमाणपत्रे किंवा गुणवत्ता चिन्हे सूचीबद्ध करा',
                    locationDelivery: 'स्थान आणि वितरण',
                    deliveryAvailable: 'वितरण उपलब्ध',
                    deliveryCharges: 'वितरण शुल्क',
                    deliveryChargesDesc: 'वितरण शुल्क प्रविष्ट करा किंवा \'मोफत\' असल्यास',
                    submitSelling: 'विक्री विनंती सबमिट करा',
                    equipmentServiceInfo: 'उपकरण/सेवा माहिती',
                    rentalCategory: 'भाडे श्रेणी',
                    farmMachinery: 'शेती यंत्रे',
                    farmMachineryDesc: 'ट्रॅक्टर, हार्वेस्टर, टिलर',
                    toolsEquipment: 'साधने आणि उपकरणे',
                    toolsEquipmentDesc: 'हात साधने, पॉवर साधने, सिंचन',
                    vehicles: 'वाहने',
                    vehiclesDesc: 'वाहतूक वाहने, ट्रेलर',
                    landStorage: 'जमीन आणि साठवणूक',
                    landStorageDesc: 'शेतजमीन, गोदामे, शेड',
                    laborServices: 'कामगार सेवा',
                    laborServicesDesc: 'कुशल कामगार, मदतनीस',
                    otherServicesRent: 'इतर सेवा',
                    otherServicesRentDesc: 'सानुकूल भाडे सेवा',
                    itemServiceName: 'वस्तू/सेवा नाव',
                    enterItemName: 'वस्तू किंवा सेवा नाव प्रविष्ट करा',
                    description: 'वर्णन',
                    describeRental: 'तुम्ही भाड्याने काय ऑफर करत आहात ते वर्णन करा',
                    rentalDetails: 'भाडे तपशील',
                    rentalRate: 'भाडे दर',
                    enterRentalRate: 'भाडे दर प्रविष्ट करा',
                    ratePeriod: 'दर कालावधी',
                    selectRatePeriod: 'दर कालावधी निवडा',
                    minimumRentalPeriod: 'किमान भाडे कालावधी',
                    enterMinRentalPeriod: 'किमान भाडे कालावधी प्रविष्ट करा',
                    maximumRentalPeriod: 'कमाल भाडे कालावधी',
                    enterMaxRentalPeriod: 'कमाल भाडे कालावधी प्रविष्ट करा',
                    securityDeposit: 'सुरक्षा ठेव',
                    enterSecurityDeposit: 'सुरक्षा ठेव रक्कम प्रविष्ट करा',
                    availabilityConditions: 'उपलब्धता आणि अटी',
                    availabilityStatus: 'उपलब्धता स्थिती',
                    selectAvailability: 'उपलब्धता निवडा',
                    excellent: 'उत्कृष्ट',
                    good: 'चांगले',
                    fair: 'चांगले',
                    needsRepair: 'दुरुस्ती आवश्यक',
                    termsConditions: 'अटी आणि नियम',
                    enterTermsConditions: 'भाडे अटी आणि नियम प्रविष्ट करा',
                    locationPickup: 'स्थान आणि पिकअप',
                    pickupAvailable: 'पिकअप उपलब्ध',
                    additionalCharges: 'अतिरिक्त शुल्क',
                    additionalChargesDesc: 'कोणतेही अतिरिक्त शुल्क प्रविष्ट करा (इंधन, वितरण, इ.)',
                    submitRenting: 'भाडे विनंती सबमिट करा',
                    biddingSuccess: 'बोली विनंती यशस्वीरित्या सबमिट केली!',
                    sellingSuccess: 'विक्री विनंती यशस्वीरित्या सबमिट केली!',
                    rentingSuccess: 'भाडे विनंती यशस्वीरित्या सबमिट केली!'
                }
            };
            
            const dict = translations[lang] || translations.en;
            
            // Apply translations to elements with data-i18n
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (dict[key]) el.textContent = dict[key];
            });
            
            // Apply translations to placeholders
            document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
                const key = el.getAttribute('data-i18n-placeholder');
                if (dict[key]) el.setAttribute('placeholder', dict[key]);
            });
        }
        
        // Service type selector
        const serviceTypeBtns = document.querySelectorAll('.service-type-btn');
        const formContainers = document.querySelectorAll('.form-container');
        
        serviceTypeBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const type = btn.dataset.type;
                
                // Update active button
                serviceTypeBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                // Show corresponding form
                formContainers.forEach(container => {
                    container.classList.remove('active');
                });
                document.getElementById(type + 'Form').classList.add('active');
            });
        });
        
        // Other service input toggle
        const otherCheckbox = document.getElementById('other');
        const otherServiceInput = document.getElementById('otherServiceInput');
        
        otherCheckbox.addEventListener('change', () => {
            if (otherCheckbox.checked) {
                otherServiceInput.classList.add('show');
            } else {
                otherServiceInput.classList.remove('show');
            }
        });
        
        // Category selection for selling
        const categoryCards = document.querySelectorAll('#sellingForm .category-card');
        const selectedCategoryInput = document.getElementById('selectedCategory');
        
        categoryCards.forEach(card => {
            card.addEventListener('click', () => {
                categoryCards.forEach(c => c.classList.remove('selected'));
                card.classList.add('selected');
                selectedCategoryInput.value = card.dataset.category;
            });
        });
        
        // Category selection for renting
        const categoryCardsRent = document.querySelectorAll('#rentingForm .category-card');
        const selectedCategoryInputRent = document.getElementById('selectedCategoryRent');
        
        categoryCardsRent.forEach(card => {
            card.addEventListener('click', () => {
                categoryCardsRent.forEach(c => c.classList.remove('selected'));
                card.classList.add('selected');
                selectedCategoryInputRent.value = card.dataset.category;
            });
        });
        
        // Form submissions
        async function submitEnrollment(formData, type) {
            try {
                // Get images for the specific form type
                let images = [];
                if (type === 'bidding' && window.biddingImageUploadImages) {
                    images = window.biddingImageUploadImages;
                } else if (type === 'selling' && window.sellingImageUploadImages) {
                    images = window.sellingImageUploadImages;
                } else if (type === 'renting' && window.rentingImageUploadImages) {
                    images = window.rentingImageUploadImages;
                }
                
                // Convert images to base64 strings for submission
                const imageData = images.map(img => ({
                    name: img.file.name,
                    type: img.file.type,
                    size: img.file.size,
                    data: img.src // This is already base64 from FileReader
                }));
                
                const submissionData = {
                    type: type,
                    data: formData,
                    images: imageData
                };
                
                const apiBase = (window && window.ENV && window.ENV.ENROLL_API_BASE) ? window.ENV.ENROLL_API_BASE : '';
                const response = await fetch(`${apiBase}/api/enroll`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(submissionData)
                });
                
                const result = await response.json();
                
                if (result.success) {
                    alert(`${type} request submitted successfully!`);
                    return true;
                } else {
                    alert(`Error: ${result.message}`);
                    return false;
                }
            } catch (error) {
                console.error('Error submitting form:', error);
                alert('Error submitting form. Please try again.');
                return false;
            }
        }
        
        document.getElementById('biddingFormElement').addEventListener('submit', async function(e) {
            e.preventDefault();
            const formData = new FormData(this);
            const data = Object.fromEntries(formData);
            console.log('Bidding Form Data:', data);
            
            const success = await submitEnrollment(data, 'bidding');
            if (success) {
                this.reset();
                // Clear image previews
                document.getElementById('biddingImagePreview').innerHTML = '';
                window.biddingImageUploadImages = [];
            }
        });
        
        document.getElementById('sellingFormElement').addEventListener('submit', async function(e) {
            e.preventDefault();
            const formData = new FormData(this);
            const data = Object.fromEntries(formData);
            console.log('Selling Form Data:', data);
            
            const success = await submitEnrollment(data, 'selling');
            if (success) {
                this.reset();
                categoryCards.forEach(c => c.classList.remove('selected'));
                // Clear image previews
                document.getElementById('sellingImagePreview').innerHTML = '';
                window.sellingImageUploadImages = [];
            }
        });
        
        document.getElementById('rentingFormElement').addEventListener('submit', async function(e) {
            e.preventDefault();
            const formData = new FormData(this);
            const data = Object.fromEntries(formData);
            console.log('Renting Form Data:', data);
            
            const success = await submitEnrollment(data, 'renting');
            if (success) {
                this.reset();
                categoryCardsRent.forEach(c => c.classList.remove('selected'));
                // Clear image previews
                window.rentingImageUploadImages = [];
                document.getElementById('rentingImagePreview').innerHTML = '';
            }
        });
        
                 // Image upload functionality
         function setupImageUpload(uploadId, previewId, maxImages = 5) {
             const uploadArea = document.getElementById(uploadId);
             const previewContainer = document.getElementById(previewId);
             const fileInput = uploadArea.querySelector('input[type="file"]');
             let uploadedImages = [];
             
             uploadArea.addEventListener('click', () => fileInput.click());
             
             fileInput.addEventListener('change', (e) => {
                 const files = Array.from(e.target.files);
                 
                 // Check if adding these files would exceed the limit
                 if (uploadedImages.length + files.length > maxImages) {
                     alert(`You can only upload up to ${maxImages} images. Please remove some existing images first.`);
                     return;
                 }
                 
                 files.forEach(file => {
                     if (file.type.startsWith('image/')) {
                         const reader = new FileReader();
                         reader.onload = (e) => {
                             const imageData = {
                                 file: file,
                                 src: e.target.result,
                                 id: Date.now() + Math.random()
                             };
                             uploadedImages.push(imageData);
                             displayImagePreview(imageData, previewContainer);
                         };
                         reader.readAsDataURL(file);
                     }
                 });
             });
             
             function displayImagePreview(imageData, container) {
                 const previewDiv = document.createElement('div');
                 previewDiv.className = 'image-preview';
                 previewDiv.innerHTML = `
                     <img src="${imageData.src}" alt="Preview">
                     <button type="button" class="remove-image" onclick="removeImage('${imageData.id}', '${previewId}')">×</button>
                 `;
                 container.appendChild(previewDiv);
             }
             
             // Store the uploaded images for form submission
             window[`${uploadId}Images`] = uploadedImages;
         }
         
         // Global function to remove images
         window.removeImage = function(imageId, previewId) {
             const previewContainer = document.getElementById(previewId);
             const previewDiv = previewContainer.querySelector(`[onclick*="${imageId}"]`).parentElement;
             previewDiv.remove();
             
             // Remove from the corresponding array
             if (previewId === 'biddingImagePreview') {
                 window.biddingImageUploadImages = window.biddingImageUploadImages.filter(img => img.id !== imageId);
             } else if (previewId === 'sellingImagePreview') {
                 window.sellingImageUploadImages = window.sellingImageUploadImages.filter(img => img.id !== imageId);
             } else if (previewId === 'rentingImagePreview') {
                 window.rentingImageUploadImages = window.rentingImageUploadImages.filter(img => img.id !== imageId);
             }
         };
         
         // Initialize image uploads for all forms
         document.addEventListener('DOMContentLoaded', () => {
             setupImageUpload('biddingImageUpload', 'biddingImagePreview', 5);
             setupImageUpload('sellingImageUpload', 'sellingImagePreview', 5);
             setupImageUpload('rentingImageUpload', 'rentingImagePreview', 5);
         });
         
         // Apply translations when page loads
         document.addEventListener('DOMContentLoaded', applyTranslations);
         
         // Also apply translations if page is loaded in iframe
         if (window.parent !== window) {
             applyTranslations();
         }
    </script>
</body>
</html>
